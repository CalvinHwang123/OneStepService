<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" 
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="oss.mapper.BusiManageMapper">
	<!--交易明细 -->
	<select id="tradingList" resultMap="TradingMap" parameterType="oss.bean.Condition" >
		select A.Tradingid,a.amount,a.demandId,a.amountType,a.tradingTime,b.userName,b.userAccount,b.userBalance from Trading a, Users b where A.Userid=B.Userid and B.Useraccount=#{title}
		<if
			test="startDate != null and endDate != null and startDate !='' and endDate !=''">
			and tradingTime between #{startDate} and #{endDate}
		</if>
	</select>
	<resultMap type="oss.bean.Trading" id="TradingMap">
		<id property="tradingId" column="tradingId" />
		<result property="userId" column="userId" />
		<result property="amount" column="amount" />
		<result property="demandId" column="demandId" />
		<result property="amountType" column="amountType" />
		<result property="tradingTime" column="tradingTime" />
		<association property="checkUsers" javaType="oss.bean.Users">
			<id property="userID" column="userID" />
			<result property="userAccount" column="userAccount" />
			<result property="userName" column="userName" />
			<result property="userBalance" column="userBalance" />
		</association>
	</resultMap>
</mapper>


